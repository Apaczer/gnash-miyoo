2006-04-04  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* backend/gnash.cpp: Add -j and -k options to set the width and
	height of the window. This is used only by the plugin. Uncomment
	gtk_plug() code, it works now! If the window ID is set, don't set
	the window size again.
	* plugin/plugin.cpp: Always return the value when Mozilla
	asks. Add -j and -k options to set the window size for the player
	instead of letting it default to the movie size.
	* libbase/image_filters.cpp: Add struct name to eliminate
	warning.
	* macros/gstreamer.m4: Change where the -I and -L gets added.
	* macros/opengl.m4: Change where the -I and -L gets added.
	* plugin/mozilla-sdk/pluginbase.h: Add a destructor to eliminate
	warnings.
	* testsuite/actionscript.all/Makefile.am: Add the test case source
	files to the distribution tarball. Include the generated swf
	movies so people don't need Ming installed to have "make check"
	work.

2006-04-02  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* gnash/Makefile.am: Move libamf to DIST_SUBDIRS, since it's not
	really used yet anyway. Tweak the path for building deb and rpm
	files.
	* doc/C/Makefile.am: Don't error out if Makeinfo has problems.

2006-04-02  Rob Savoye  <rob@cree.moongulch.net>

	* doc/C/gnash-man.xml: Add the -x and -w options.
	* doc/C/gnash.xml: Rewrite overview and intro chapter.

	* doc/C/gnash.xml: Add a constant for the opcodes chapter. Add -w
	option to list of command line options. 
	* doc/C/sources.xml: Add new dependancies, gtkglext, atk, pango,
	cairo, glib, gtk2, gstreamer 0.10, and kde. Update plugin
	section. Add all the new configure options of the last few
	months.
	* doc/C/internals.xml: Change the names of the libraries to match
	current versions. Add asobjs, plugin, and klash libraries. Update
	plugin section. Add info about GUI toolkit usage. Add section on
	Klash. 
	* doc/C/opcodes.xml: New chapter on opcodes that lists what's
	still unimplemented.
	* doc/C/localconnection.xml: Update text. Add section about AMF.
	* doc/C/plugin.xml: Add section on plugin event handling.
	* libbase/Makefile.am: Optionally compile the demo.
	* libbase/demo.cpp: Add the demo namespace and open ogl.

2006-03-31  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* macros/atk.m4: Fix finding the proper path with the version
	number.
	* macros/glib.m4: Fix finding the proper path with the version
	number.
	* macros/pango.m4: Fix finding the proper path with the version
	number.

	* Makefile.am: Add libamf and plugin to STD_DIRS.
	* configure.ac: Call KDE_SET_PREFIX to set KDECONFIG.
	* doc/C/Makefile.am: Change the invocation of db2_teximl for
	version 0.8.5. Also change the file name the gets renmoved, so
	make it part of the conditional test.
	* macros/kde.m4: Fix KDE_SET_PREFIX to not trash the value of
	$prefix.
	* plugin/klash/Makefile.am: Fix how the moc file gets built and as
	a dependancy.
	* plugin/mozilla-sdk/Makefile.am: Add all the headers to
	noinst_HEADERS so makedistcheck works.
	
2006-03-30  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* plugin/Makefile.am: Pass in the prefix as a constant so we can
	use it to find the Gnash executable from within the plugin.
	* gnash.cpp: For now, ignore command line arguments with a equal
	sign in them.
	* plugin/plugin.cpp: Build the argv array correctly so we don't
	core dump Firefox. Use a GNASH_PLAYER environment variable, or the
	configured exec_prefix to find the gnash executable to fork.
	* plugin/plugin.h: Also store the childpid and the process name.
	* configure.ac: Add options to toggle between forking the
	standalone player and using a thread.
	
2006-03-30 Petter Reinholdtsen <pere@hungry.com>

	* libamf/Makefile.am: Remove -Wall, it's set in configure.ac now.
	* libbase/triangulate_impl.h: Add const to some type casting.
	* libbase/tu_file.cpp: Remove const from *_tell_func API.
	* libbase/tu_file.h: Remove const from *_tell_func API.
	* libbase/tu_file_SDL.cpp: Remove const from *_tell_func API.
	* libbase/zlib_adapter.cpp: Remove const from *_tell_func API.
	* libgeometry/geometry.h: Swap static and const, they're in the
	wrong order.
	* libgeometry/kd_tree_packed.cpp: Use unsigned interger to compare
	to the result from size() for an STL container.
	* server/Makefile.am: Remove -Wall, it's set in configure.ac now.
	* server/action.cpp: Add const to definition of character
	pointer.
	* server/dlist.cpp: Add const when casting display_object_info.
	* server/network.cpp: Return false for now if
	Network::createClient is called with only the port number.
	* server/shape.cpp: Use const when casting nmesh)_set.
	* server/sound_handler_mp3.cpp: Use unsigned interger to compare
	to the result from size() for an STL container.
	* server/xml.cpp: Define the niodename before using it.
	* server/xmlnode.cpp: Return NULL if we can't return an object
	pointer.
	* utilities/Makefile.am: Add MP3_LIB to the linker list.

2006-03-29  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* plugin/Makefile.am: Include the backend directory in the include
	paths.
	* plugin/player.cpp: Nuke the SDL support and start replacing it
	with GTK2. This file is currently unused as the standalone player
	is used instead.
	* plugin/plugin.cpp: Support GTK2 and GTKGLExt if they exist for
	the plugin. Fork the plugin instead of using a thread. Enable
	XEmbed.
	* plugin/plugin.h: XSync after setting the context.
	* plugin/klash/Makefile.am: Move klash_part.moc to _SOURCES.
	* plugin/mozilla-sdk/Makefile.am: We don't need the FIREFOX_DEFS
	now.

2006-03-29  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac: Add --enable-lotsa-warnings, to turn on many more
	warning messages. By default only -Wall is used when using
	GCC. Based on a patch by Petter Reinholdtsen <pere@hungry.com>

2006-03-28  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* README: Add text from web site about the mailing lists, and
	where to submit bug reports and patches.
	* configure.ac: Use $glext instead of $plugin for GTK.
	* backend/Makefile.am: Add new files gtksup.h and gtksup.cpp.
	* backend/gtksup.{h,cpp}: New files for GTK menu and event support.
	* backend/gnash.cpp: Use GTK2 and GtkGLExt if they exist. Use GTK
	event handlers and menus. Default to SDL.
	* libbase/Makefile.am: Don't both to build the demo.
	* libbase/image_filters.cpp: Add debugging trace messages.
	* libbase/log.{h,cpp}: Handle just a single char.
	* libgeometry/Makefile.am: Add the library paths.
	* macros/atk.m4: Define ac_cv_path_atk_lib correctly for when we
	do find it in the list of paths. 
	* macros/cairo.m4: Don't do anything unless $glext is enabled.
	* macros/firefox.m4: Don't do anything unless $plugin is enabled.
	* macros/ghelp.m4: Move the conditional.
	* macros/glib.m4: Define ac_cv_path_glib_lib correctly for when we
	do find it in the list of paths. 
	* macros/gstreamer.m4: Add error message if only the older
	gstreamer version is found. 0.10 is required.
	* macros/gtk2.m4: Don't do anything unless $glext and $plugin are
	enabled. Define the library names with the version or we get the
	wrong one.
	* macros/gtkglext.m4: Enable by default, but support --disable.
	* macros/opengl.m4: Define ac_cv_path_opengl_lib correctly for when we
	do find it in the list of paths. 
	* macros/pango.m4: Define ac_cv_path_pango_lib correctly for when we
	do find it in the list of paths. 
	* server/shape.cpp: Reformat into GNU style.
	* server/styles.cpp: Reformat into GNU style.
	* utilities/Makefile.am: Add the graphics libraries.

2006-03-20  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* doc/C/Makefile.am: Optionally use dblatex or pdfxmltex to build
	PDFs if FOP doesn't exist.
	* macros/docbook.m4: Also look for dblatex and pdfxmltex.

2006-03-19  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac, macros/gstreamer.m4: Look for Gstreamer.

2006-03-18  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* server/Movie.cpp: Add GNASH_REPORT_FUNCTION to some functions.
	* server/Sprite.cpp: Add GNASH_REPORT_FUNCTION to some functions.
	* server/dlist.cpp: Add GNASH_REPORT_FUNCTION to some functions.
	* server/impl.h: Add GNASH_REPORT_FUNCTION to some functions.
	* server/morph2.cpp: Add GNASH_REPORT_FUNCTION to some functions.
	* server/shape.cpp: Add GNASH_REPORT_FUNCTION to some functions.
	* server/text.cpp: Add GNASH_REPORT_FUNCTION to some functions.
	* plugin/mozilla-sdk/include/{prcvar.h, prerr.h, prerror.h,
	prinit.h, prinrval.h, prlock.h, prthread.h, prwin16.h}: New files
	copied from Firefox so we can use NSPR without Firefox sources.
	* backend/gnash.cpp: Add -w option to enable producing the disk
	based log file, instead of enabling it by default as it can get
	huge. This log is only useful to developers. This disk log *is*
	produced by default when using the plugin.
	* libbase/log.h: Add a log_trace() function that works like
	GNASH_REPORT_FUNCTION, but also prints the pointer of the current
	instance. Useful for debugging multi-threaded programs. Tracing
	now always prints to the disk file, and only the terminal display
	is controlled by the verbosity level.
	* libbase/log.cpp: Add a log_trace() function that works like
	GNASH_REPORT_FUNCTION, but also prints the pointer of the current
	instance. Useful for debugging multi-threaded programs. Tracing
	now always prints to the disk file, and only the terminal display
	is controlled by the verbosity level. Strip the CR from messages
	passed to the log_* wrapper and replace it with a endl so the
	timestamps work for all the old messages too.
	* server/types.cpp: Small fix to color matrix loading, /256.0
	instead of /255.0/
	* plugin/player.cpp: Use Mozilla NSPR API for mutexes, threads and
	condition variables instead of SDL. For now, only play the movie
	once.
	* plugin/plugin.cpp: Use Mozilla NSPR API for mutexes, threads,
	and condition variables instead of SDL.
	* plugin/plugin.h: Use Mozilla NSPR API for mutexes, threads, and
	condition variables instead of SDL.

2006-03-18  Tomas Groth Christensen  <tomasgroth@yahoo.dk>

	* backend/sound_handler_sdl.cpp: Make mp3-support depend on
	HAVE_MAD_H instead of GAMESWF_MP3_SUPPORT.
	* macros/docbook.m4: Include the J2REDIR enviroment variable
	in the list of where java could be.
	
2006-03-17  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* server/button.cpp: Clear() m_actions after resizing when
	destructing a button. Bug #16105

2006-03-11  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* doc/C/Makefile.am: Add logging.xml.
	* libbase/log.h: Only print TRACE messages at verbose level 2. Add
	getVerbosity() accessor.
	* server/impl.cpp: Add fixme_loader(), and set the unimplemented
	tags to that so we know when we hit one.
	* server/impl.h: Add prototype for fixme_loader().
	* server/text.cpp: Clean up warning message.

	* doc/C/internals.xml: Add section on the new debug logging
	system. 
	* doc/C/logging.xml: New section on the new debug logging
	system.

	* utilities/Makefile.am: Add libxml flags and libs.
	* utilities/parser.cpp: Use getopt for processing command line
	arguments. Reindent to project coding standards. Add GNU standard
	options. Use new logging system, delete the old one.
	* utilities/processor.cpp: Use getopt for processing command line
	arguments. Reindent to project coding standards. Add GNU standard
	options. Use new logging system, delete the old one.
	* backend/gnash.cpp: Use getopt for processing command line
	arguments. Add GNU standard options. Use new logging system,
	delete the old one.
	* libbase/tu_file.h: Reformat to be more readable.
	* libbase/tu_file.cpp: Reformat to be more readable.

2006-03-10 Rob Savoye  <rob@wharfrat.welcomehome.org>

	* server/log.h: Moved to libbase.
	* server/log.cpp: Moved to libbase.
	* libbase/log.h: Add support for an STL streams based interface to
	the C based API for debugging messsages. 
	* libbase/log.cpp: Add support for an STL streams based interface to
	the C based API for debugging messsages. 
	* backend/gnash.cpp: Add support for new logging system, delete
	old callback system.
	* backend/render_handler_ogl.cpp: Cleanup some formating.
	* libbase/Makefile.am: Add log.h and log.cpp.
	* server/Makefile.am: Remove log.cpp and log.h.
	* server/xml.cpp: Use the new debugging macros.
	* utilities/Makefile.am: Add XML flags and libs.
	* utilities/parser.cpp: Add support for new logging system, delete 
	old callback system.
	* utilities/processor.cpp: Add support for new logging system,
	delete old callback system.

2006-03-08  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac: Make using XML the default.

2006-03-10  Rob Savoye  <rob@cree.moongulch.net>

	* plugin/Makefile.am: Use DESTDIR when making directory.
	* mkinstalldirs: Add so we have it when not using the install
	utility (using libtool) to make directories.
	* utilities/Makefile.am: Add ZLIB_LIBS to ldflags.

2006-03-09 Michael Carlson <corfe83dev@gmail.com>

	* server/array.cpp: Add TODO to make sort constants static
	* server/Date.h: Add functions convertTM, setFromTM, Normalize
	(for internal use), improve comments on utility functions
	* server/Date.cpp: Implement getTime, setUTC functions, fix 
	problem with regular Set functions, fix return values on
	several functions, add comments, TODOs, asserts, and fix a typo

2006-03-09  Rob Savoye  <rob@cree.moongulch.net>

	* backend/Makefile.am: Add ZLIB_LIBS to LDFLAGS.

	* All GPL'd files: Updated the copyright message in all GPL'd
	files with the new Mozilla exemption as crafted by the FSF. This
	enables Gnash to be used in Mozilla without requiring all the
	other plugins to be GPL'd.

2006-03-09 Michael Carlson <corfe83dev@gmail.com>

	* server/Date.cpp: Implement all Date::getUTC functions, convert	
	to tab indenting, create convertUTC() for internal use, 
	implement a sane (but probably non-standard) Date::toString
	* server/Date.h: Add Date::convertUTC function for internal use,
	convert to tab indenting

2006-03-08  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac: Make using XML the default.

2006-03-08 Michael Carlson <corfe83dev@gmail.com>

	* backend/gnash.cpp: Fix typo in and add newline to error message
	Avoid infinite loop and make gnash still poll for SDL events when
	libxml is not present
	* server/Date.cpp: Implement Date::gettimezoneoffset, all the 
	basic "set" functions, cleanup messages to user a bit, rename
	set() to setDate(), in accordance with two unofficial references
	* server/Date.h: Add minutesEast variable to store timezone,
	rename set() to setDate()
	* server/array.cpp: Add some constants related to sorting

2006-03-07  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* doc/C/plugin.xml: New file for internals on writing Mozilla
	plugins.
	* doc/C/internals.xml: Include new plugin section.
	* doc/C/Makefile.in: Add plugin.xml to the list of doc chapters.

2006-03-07  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* doc/C/plugin.xml: New file for internals on writing Mozilla
	plugins.
	* doc/C/internals.xml: Include new plugin section.
	* doc/C/Makefile.in: Add plugin.xml to the list of doc chapters.

2006-03-06  Rob Savoye  <rob@cree.moongulch.net>

	* server/shm.cpp: Clear up ifdef mess... Both shm_open() and
	shmget() use file descriptors.

2006-03-05  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* server/Date.cpp: If we don't have gettimeofday, use
	ftime instead.
	* server/shm.h:  Add support for win32 shared memory.
	* server/shm.cpp: Add support for win32 shared memory.
	* server/network.h: Add support to use winsock.
	* server/network.cpp: Add support to use winsock.
	* configure.ac: Add tests for sysconf(), shmget(), shmat(),
	mmap(), gettimeofday(), socket(), CreateFileMapping(), and
	winsock.h. This covers all the differences between mingw builds
	and native unix builds.
	* libbase/container.h: Don't use pthread hack for BSD whcn cross
	compiling with mingw.
	* libbase/utility.h: Don't define windows specific assert()
	replacement when using mingw.
	* libgeometry/kd_tree_dynamic.cp: Include wctype.h and wchar.h to
	shut up mingw.
	
	* server/action.cpp (gnash): Replace isblank() with testing for
	space and tab so it compiles with mingw32.

	* macros/kde.m4: Use our zlib tests, not the KDE one because the
	Gnash test works when cross compiling.

2006-03-04  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* Makefile.am: Always build the plugin now.
	* configure.ac: Look for stdint, which is used by some old BSDs
	that for the Mozilla header files. Arg. Don't use AC_CHECK_FUNCS
	for finite and isfinite, try to compile code. On some systems
	these are functions, and on some they're constants, so this covers
	both cases to return a meaningful result. We always build the
	plugin now, so having firefox-config isn't a failure anymore.
	* libbase/dlmalloc.h: Move USE_DL_MALLOC ifdef up a few lines. 
	* macros/firefox.m4: Add new macro to replace the old one, which
	is renamed. Turns out none of the flags from mozill-config are
	needed, so only find the path to install the plugin.
	* macros/kde.m4: Turn more errors into notices so the build
	doesn't stop if KDE parts aren't installed. We only want to use
	them if building klash. Optionally skip some tests if klash isn';t
	installed. Otherwise they get set if they're installed even if
	you aren't building klash.
	* plugin/Makefile.am: Don't use the DEFS from firefox-config,
	only MOZ_X11 is needed by the SDK. Add include path to our own
	Mozilla headers.
	* plugin/mozilla-sdk/Makefile.am: Add include path to our own
	Mozilla headers.
	* servers/Object.h: Reverse ifdef test for HAVE_FINITE so it works
	even with configure errors.
	* plugin/mozilla-sdk/include: Copy critical header files from
	Firefox sources so you don't need the development packages
	installed, nor do you need fierfox-config, which isn't included at
	all in some distributions.
	
	* macros/docbook.m4: Patch from Pavekl Roskin <proski@gnu.org>, to
	fix configure test error.
	* macros/libXML.m4: Patch from Pavekl Roskin <proski@gnu.org>, to
	correctly use xml2-config, instead of pkg-config.

	* plugin/player.cpp: Define NO_NSPR_10_SUPPORT so we don't have
	header file typedef conflicts. We don't care about the older NSPR
	10 anyway...

2006-03-03  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* plugin/klash: Build klash, a Gnash customized Konquerer plugin
	that works similar to MozPlugger. Contributed by Koos Vriezen
	<koos.vriezen@gmail.com>.
	* configure.ac: Add Klash support, which optionally invokes a
	bunch of KDE tests. Add --enable-klash to build Konquerer plugin.
	* macros/kde.m4: KDE config macros that seem to be a default
	collection. These have been tweaked so the errors if QT or KDE
	isn't found are removed. This is done later in configure.in, and
	we want to build all the other code on systems without KDE.
	* plugin/mozplugger:  Add patch to add Gnash support to
	MozPlugger.
	* plugin/klash/README, klash.desktop, klash_part.cpp,
	klash_part.desktop, klash_part.h, klashpartui.rc,
	klashplayer.lsm, klashrc, pluginsinfo: New files from contributed
	Konquer plugin (works similar to MozPlugger)

2006-03-02  Rob Savoye  <rob@cree.moongulch.net>

	* plugin/plugin.cpp: Always lock the display before locking X. Add
	the locking to the function calls themselves, rather than wrapping
	all the function calls. Add debug background thread for now. We
	don't need SDL in the plugin now at all. Changes what gets setup
	and when. Use a POSIX condition to signal the threads when they
	have a movie to play.
	* plugin.h: Add unsetGL() to unset the context. important for
	threads. Add tons of silly debug messages.
	* player.cpp: Extern the mutexes, and condition variables. Always
	lock the display before locking X.
	* macros/hashmap.m4: New configure test for hash_map extension.
	* configure.as: Look for hash_map extension. Check for vsnprintf,
	strcasecmp, and stricmp.
	* libbase/container.h:  Include config.h. Use configure support to
	define template.
	* libbase/container.cpp: Include config.h. Use ifdefs based on
	configure tests for vsnprintf, strcasecmp, and stricmp. 
	* libbase/utility.cpp: Don't build anything if dmalloc isn't
	enabled.
	* libbase/config.h: Remove as it doesn't appear to be used, and
	conflicts with the autoconf generated one.
	* libbase/Makefile.am: Include files from the src server directory
	too, and the top level where config.h is. Don't include the
	removed config.h in the header list.

2006-02-28  Jim Garrison  <garrison@users.sourceforge.net>

	* server/MovieClipLoader.cpp, server/Sprite.cpp,
	server/action.cpp, server/array.cpp, server/text.cpp,
	server/xml.cpp, server/xmlsocket.cpp: first step in migration to 
	std::string

2006-02-28  Tomas Groth Christensen  <tomasgroth@yahoo.dk>

	* testsuite/actionscript.all/gen-test.sh: made the test-generator
	use case-sensitivity, since MM flashplayer is case sensitive.

2006-02-28  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac: Look for finite and isfinite.
	* server/Object.h: Define finite to be isfinite if isfinite
	doesn't exist.
	* macros/docbook.m4: Make not needing the docbook2X tools the
	default.

2006-02-27  Jim Garrison  <garrison@users.sourceforge.net>

	* libbase/Makefile.am: removed unused files
	* libbase/cschema.h: moved to Attic
	* libbase/file_util.cpp: moved to Attic
	* libbase/file_util.h: moved to Attic
	* libbase/png_helper.cpp: moved to Attic
	* libbase/png_helper.h: moved to Attic

2006-02-27  Rob Savoye  <rob@cree.moongulch.net>

	* plugin/player.cpp: Include Movie.h, which is where movie
	definitions get defined now. Include gnash.h before other local
	headers.

2006-02-26  Jim Garrison  <garrison@users.sourceforge.net>

	* libbase/container.h: hash class is now implemented using
	hash_map
	* server/Movie.cpp: partial migration to hash_map API
	* server/Movie.h: partial migration to hash_map API
	* server/Object.cpp: partial migration to hash_map API
	* server/Sprite.h: partial migration to hash_map API
	* server/action.cpp: partial migration to hash_map API
	* server/impl.h: partial migration to hash_map API

2006-02-26 Sandro Santilli <strk@keybit.net>

	* server/action.cpp: fixed bug in doActionCallFunction making
	samples/slider.swf play fine.
	* server/: merged movie_definition_sub into
	movie_definition.
	* testsuite/actionscript.all/Makefile.am: provided
	OUTPUT_VERSION define for *.swf and *.vswf rules

2006-02-26  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* libbase/dlmalloc.h: Include stdlib.h instead of the depreciated
	malloc.h.
	* libbase/tu_swap.h: OpenBSD defines swap macros with the same
	name as these functions, so use our implementation intead.
	* macros/pthread.h: Reqwrite to handle weird NetBSD Pth versus
	Pthread problem.
	* macros/sdl.m4: Throw out compile test for something simpler and
	more portable.
	* utilities/Makefile.am: Add pthread header and library.
	* server/Makefile.am: Add pthread header and library.
	* backend/Makefile.am: Add pthread header and library.
	* libbase/container.h: Add ugly NetBSD specific hack so it'll use
	pthread, not Pth if both are installed.
	* libgeometry/kd_tree_dynamic.cp: Include stdio so __sputc() is
	defined on NetBSD.

2006-02-25  Jim Garrison  <garrison@users.sourceforge.net>

	* backend/render_handler_d3d.cpp: substituted array<> with
	std::vector<>.
	* backend/render_handler_xbox.cpp: substituted array<> with
	std::vector<>.
	* libbase/container.cpp: substituted array<> with std::vector<>
	* server/morph.cpp: substituted array<> with std::vector<>
	* server/morph.h: substituted array<> with std::vector<>

2006-02-25 Michael Carlson <corfe83dev@gmail.com>

	* server/sound_handler_mp3.cpp: Use std::vector<> instead of
	array<>

2006-02-24  Jim Garrison  <garrison@users.sourceforge.net>

	* backend/sound_handler_sdl.cpp: substituted array<> with
	std::vector<>
	* libbase/container.h: removed array<> definition
	* libbase/grid_index.h: substituted array<> with std::vector<>
	* libbase/image_filters.cpp: substituted array<> with std::vector<>
	* libbase/triangulate.h: substituted array<> with std::vector<>
	* libbase/triangulate_float.cpp: substituted array<> with
	std::vector<>
	* libbase/triangulate_impl.h: substituted array<> with
	std::vector<>
	* libbase/triangulate_sint32.cpp: substituted array<> with 
	std::vector<>
	* libgeometry/kd_tree_dynamic.cpp: substituted array<> with 
	std::vector<>
	* libgeometry/kd_tree_dynamic.h: substituted array<> with 
	std::vector<>
	* libgeometry/tqt.h: substituted array<> with std::vector<>
	* server/Function.cpp: substituted array<> with std::vector<>
	* server/Function.h: substituted array<> with std::vector<>
	* server/Movie.cpp: substituted array<> with std::vector<>
	* server/Movie.h: substituted array<> with std::vector<>
	* server/MovieClipLoader.cpp: substituted array<> with std::vector<>
	* server/Sprite.cpp: substituted array<> with std::vector<>
	* server/Sprite.h: substituted array<> with std::vector<>
	* server/action.cpp: substituted array<> with std::vector<>
	* server/action.h: substituted array<> with std::vector<>
	* server/button.cpp: substituted array<> with std::vector<>
	* server/button.h: substituted array<> with std::vector<>
	* server/dlist.h: substituted array<> with std::vector<>
	* server/font.cpp: substituted array<> with std::vector<>
	* server/font.h: substituted array<> with std::vector<>
	* server/fontlib.cpp: substituted array<> with std::vector<>
	* server/fontlib.h: substituted array<> with std::vector<>
	* server/impl.cpp: substituted array<> with std::vector<>
	* server/impl.h: substituted array<> with std::vector<>
	* server/shape.cpp: substituted array<> with std::vector<>
	* server/shape.h: substituted array<> with std::vector<>
	* server/stream.cpp: substituted array<> with std::vector<>
	* server/stream.h: substituted array<> with std::vector<>
	* server/styles.h: substituted array<> with std::vector<>
	* server/tesselate.cpp: substituted array<> with std::vector<>
	* server/text.cpp: substituted array<> with std::vector<>
	* server/text.h: substituted array<> with std::vector<>
	* server/textformat.cpp: substituted array<> with std::vector<>
	* server/timers.cpp: substituted array<> with std::vector<>
	* server/timers.h: substituted array<> with std::vector<>
	* server/xml.cpp: substituted array<> with std::vector<>
	* server/xmlsocket.cpp: substituted array<> with std::vector<>
	* server/xmlsocket.h: substituted array<> with std::vector<>
	* utilities/processor.cpp: substituted array<> with std::vector<>

2006-02-24  Jim Garrison  <garrison@users.sourceforge.net>

	* backend/sound_handler_sdl.cpp: fixed int, unsigned int comparisions
	* libbase/grid_index.h: fixed int, unsigned int comparisions
	* libbase/image_filters.cpp: fixed int, unsigned int comparisions
	* libbase/triangulate_impl.h: fixed int, unsigned int comparisions
	* libgeometry/kd_tree_dynamic.cpp: fixed int, unsigned int comparisions
	* libgeometry/tqt.cpp: fixed int, unsigned int comparisions
	* plugin/plugin.cpp: fixed int, unsigned int comparisions
	* server/Movie.cpp: fixed int, unsigned int comparisions
	* server/Sprite.cpp: fixed int, unsigned int comparisions
	* server/action.cpp: fixed int, unsigned int comparisions
	* server/button.cpp: fixed int, unsigned int comparisions
	* server/dlist.cpp: fixed int, unsigned int comparisions
	* server/font.cpp: fixed int, unsigned int comparisions
	* server/fontlib.cpp: fixed int, unsigned int comparisions
	* server/impl.cpp: fixed int, unsigned int comparisions
	* server/morph2.cpp: fixed int, unsigned int comparisions
	* server/shape.cpp: fixed int, unsigned int comparisions
	* server/styles.cpp: fixed int, unsigned int comparisions
	* server/tesselate.cpp: fixed int, unsigned int comparisions
	* server/text.cpp: fixed int, unsigned int comparisions
	* server/xmlnode.cpp: fixed int, unsigned int comparisions
	* server/xmlsocket.cpp: fixed int, unsigned int comparisions

2006-02-23  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* plugin/Makefile.am: Add flags for GTKGLExt
	dependancies. Remove ogl_sdl.cpp and ogl_sdl.h. Use -d instead of
	-z to see if the directory exists.
	* plugin/plugin.cpp: Don't use ogl_sdl, move the functionality
	into the nsPluginInstance class. Add locking around all GL and X11
	calls. Add Doxygen style comments blocks.
	* plugin/plugin.h:  Don't use ogl_sdl, move the definitions
	into the nsPluginInstance class.
	* plugin/ogl_sdl.{h,cpp}: Move functionality into nsPluginInstance
	class. Remove files.
	
	* doc/C/sources.html: Add section on cross compiling Gnash.
	* libgeometry/kd_tree_packed.cpp: Comment out the two somewhat
	bogus assertions so this file can be cross compiled.
	* configure.ac: If the plugin is disabled, or glext is disabled,
	don't spew errors messages, since we didn't bother to look for
	those components anyway. Rename the macros where the prefix
	changed.
	* macros/firefox.m4: Don't try to configure if the plugin is
	disabled.
	* macros/jpeg.m4: Look in $prefix for headers and libraries,
	useful for cross-compiling. Rename to use GNASH_ instead of AM_
	for the prefix.
	* macros/libXML.m4:  Look in $prefix for headers and libraries,
	useful for cross-compiling.
	* macros/mad.m4:  Look in $prefix for headers and libraries,
	useful for cross-compiling. Rename to use GNASH_ instead of AM_
	for the prefix.
	* macros/ming.m4: Rename to use GNASH_ instead of AM_ for the
	prefix.
	* macros/ogg.m4:  Look in $prefix for headers and libraries,
	useful for cross-compiling. Rename to use GNASH_ instead of AM_
	for the prefix.
	* macros/opengl.m4:  Look in $prefix for headers and libraries,
	useful for cross-compiling. Rename to use GNASH_ instead of AM_
	for the prefix.
	* macros/png.m4:  Look in $prefix for headers and libraries,
	useful for cross-compiling. Rename to use GNASH_ instead of AM_
	for the prefix.
	* macros/sdl.m4:  Look in $prefix for headers and libraries,
	useful for cross-compiling. Rename to use GNASH_ instead of AM_
	for the prefix.
	* macros/zlib.m4:  Look in $prefix for headers and libraries,
	useful for cross-compiling. Rename to use GNASH_ instead of AM_
	for the prefix.
	* macros/gtkglext.m4: If --enable-glext is passed to configure,
	enable configuring pango, cairo, atk, glib, and gtk2 macros.
	* macros/atk.m4: New file to look for Gnome ATK, which is
	unfortunately a dependancy of GtkGlext.
	* macros/cairo.m4:  New file to look for Cairo, which we wanted to
	do eventually anyway, by GtkGlext needs it too.
	* macros/glib.m4:  New file to look for Glib, which is
	unfortunately a dependancy of GtkGlext.
	* macros/gtk2.m4:  New file to look for GTK+ version 2.x, which is
	a dependancy of GtkGlext, but Firefox uses it too.
	* macros/pango.m4:  New file to look for Gnome ATK, which is
	unfortunately a dependancy of GtkGlext.
	
	* doc/C/gnash.xml: Add the -x command line option.
	* doc/C/internals.xml: Add section under Plugin about using
	Mozplugger to use the standalone player.

2006-02-22  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* backend/gnash.cpp: Add -x option to pass in the X window ID from
	mozplugger. If a window ID is passed in, use that to display
	in. This lets the standalone player be embedded in the browser
	window.

2006-02-20  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac: Add GNASH_PATH_GLEXT.
	* macros/gtkglext.m4: New config file to find GtkGLext package.

	* packaging: New directory to hold config files to build packages
	for distributions.
	* packaging/debian: New directory for DEB building config files.
	* packaging/redhat: New directory for RPM building config files.
	* packaging/redhat/gnash.spec: Contributed spec file for building
	RPMs.
		
	* macros/zlib.m4,sdl.m4,pthreads.m4,png.m4,opengl.m4,
	ogg.m4,mad.m4,libtool.m4,libXML.m4,jpeg.m4,dmalloc.m4:
	Look for /lib64 and /usr/lib64, and use those for search paths if
	they exist.
	* configure.ac: Blindly add -L/usr/lib64, so the autoconf library
	checking functions get the right path.

2006-02-17  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* server/shm.cpp (closeMem): Use shmctl(), not shm_unlink to
	remove a shared memory segment on BSD machines.

2006-02-15  Rob Savoye  <rob@cree.moongulch.net>

	* config.guess: Updated to latest autoconf release.
	* config.sub: Updated to latest autoconf release.
	* ltmain.sh: Updated to latest libtool release.
	* backend/render_handler_ogl.cpp: Migrate patch from GameSWF.
	* server/action.h: Make set_local_frame_top multiline so it's
	easier to read.
	* server/gnash.h: Add prototype for cxform::clamp().
	* server/types.cpp: Add cxform::clamp().
	* server/shape.cpp: Fix a few warnings about comparison and sign.
	* server/shm.cpp (attach): Use SVR4 styles shared memory segments
	if there is no POSIX shared memory support, like NetBSD or
	OpenBSD.
	* server/shm.h: Add private data to store the SV4 shared memory
	key, and the SVR4 shared memory ID.
	* server/xml.cpp: Move a few methods outside
	ENABLE_TESTING. Return NULL from a few unimplemented methods.
	* server/xml.h: Move a few methods outside ENABLE_TESTING. 
	* server/xmlnode.h: Move a few methods outside ENABLE_TESTING. 
	* server/xmlnode.cpp: Move a few methods outside ENABLE_TESTING. 
	* testsuite/actionscript.all/XML.as: Make some tests unresolved
	because I'm not clear what the proper behaviour is.

2006-02-15 Sandro Santilli <strk@keybit.net>

	* testsuite/actionscript.all/Makefile.am: added online-tests rule.
	* testsuite/actionscript.all/Function.as: avoided === test, not
	available in versions < 6.
	* testsuite/actionscript.all/gen-index.sh: utility script for
	the online-tests rule: generates index.html and index.wiki.
	* testsuite/actionscript.all/check.as: support for ONLINE define,
	using XTRACE and only printing failures when that's defined.
	* testsuite/actionscript.all/gen-test.as: changed to use the check
	macro.
	* testsuite/actionscript.all: Boolean.as, Camera.as, Color.as,
	ContextMenu.as, CustomActions.as, Error.as, LoadVars.as,
	Microphone.as, Mouse.as, NetStream.as, Selection.as,
	SharedObject.as, Stage.as, System.as, TextSnapshot.as, Video.as:
	regenerated.
	* server/swf.h: added note about which action_buffer private
	method implmements which ACTION_DELETE* block.
	* testsuite/actionscript.all/Global.as: added test for
	_global.escape.

2006-02-14  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac: Look for shm_open().
	* server/shm.cpp: If we don't have POSIX shared memory (like *BSD
	systems), don't try to compile anything for now.
	* server/shm.h: If we don't have POSIX shared memory (like *BSD
	systems), don't try to compile anything for now.
	
2006-02-14 Sandro Santilli <strk@keybit.net>

	* server/Object.{h,cpp}: new instanceOf(function_as_object*) method.
	* server/action.{h,cpp}: ACTION_INSTANCEOF and ACTION_CASTOP
	implemented.  Fixed ACTION_DELETE.
	* testsuite/actionscript.all/Inheritance.as: instanceOf tests.
	* testsuite/actionscript.all/delete.as: delete tests.
	* testsuite/actionscript.all/Date.as: changed to use the check() macro.

2006-02-14 Michael Carlson <corfe83dev@gmail.com>

	* server/array.cpp: Make tostring() and join() not output any 
	enclosing parentheses, and handle empty array case better
	* testsuite/actionscript.all/array.as: Change all tests to use
	new check macro. Add tests for all implemented array functions,
	as well as several tests for the unimplemented sort function.
	* libbase/jpeg.cpp: don't ever crash by trying to read
	headers of the same jpeg twice

2006-02-13  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* macros/firefox.m4: Set FIREFOX_PLUGINS correctly at the proper
	time. Add another pattern to the sed rule to munge the path.
	* configure.ac: Print out where the plugin will get installed.

	* libamf/Makefile.am: DOn't link in the other libraries so libamf
	can be standalone.
	* libamf/amf.cpp: Default to not using log_msg().
	* libamf/amftest.cpp: Don't build unless you have dejagnu.h.
	* configure.ac: Check for the dejagnu.h header for unit testing.

2006-02-13 Sandro Santilli <strk@keybit.net>

	* testsuite/actionscript.all/xtrace.as: trace window enlarged.
	* testsuite/actionscript.all/Inheritance.as: inheritance test
	* server/Object.h: new header file for definitions from as_object
	up to as_value (will split again at sometime).
	gnash::as_object_interface class definition merged with
	gnash::as_object, now directly derived from gnash::resource.
	* server/action.cpp: doActionEquals and doActionStrictEquals private
	action_buffer methods. Made as_value::to_object valid for AS_FUNCTION
	value types
	* server/Function.{cpp,h}: Made 'Function' an AS_FUNCTION to allow for
	'prototype' based inheritance. Implemented Function.call
	

2006-02-12 Michael Carlson <corfe83dev@gmail.com>

	* server/action.cpp: Fix silly '!' that breaks _global.isfinite

2006-02-12  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* libamf/amf.h: New file for AMF encoder/decoder library.
	* libamf/amfutf8.h: New file for AMF encoder/decoder library to
	handle UTF8 strings.
	* libamf/amf.cpp:  New file for AMF encoder/decoder library.
	* libamf/Makefile.am: New makefile for amf library.
	* libamf/amftest.cpp: New test case for AMF library.
	* Makefile.am: Add libamf directory.
	* configure.ac: Add libamf directory.

2006-02-11  Jim Garrison  <garrison@users.sourceforge.net>

	* libbase/container.h: changed array to derive from std::vector
	instead of being custom implemented, renamed hash::is_empty()
	to hash::empty()
	* libbase/grid_index.h: changed to std::vector API
	* libbase/triangulate_impl.h: changed to std::vector API
	* server/Movie.cpp: changed to std::vector API
	* server/MovieClipLoader.cpp: create explicit empty array instead
	of passing the value 0
	* server/Sprite.h: set each element of std::vector<bool> to
	false instead of using memset
	* server/action.cpp: changed to std::vector API
	* server/dlist.cpp: changed to std::vector API
	* server/font.cpp: changed hash::is_empty() to hash::empty()
	* server/fontlib.cpp: changed to std::vector API
	* server/impl.cpp: changed to std::vector API
	* server/shape.cpp: changed to std::vector API, typecast
	std:vector::size() to an integer to fix an assertion
	* server/tesselate.cpp: changed to std::vector API
	* server/textformat.cpp: create explicit empty array instead
	of passing the value 0
	* server/timers.cpp: create explicit empty array instead
	of passing the value 0
	* server/xml.cpp: create explicit empty array instead
	of passing the value 0
	* server/xmlsocket.h: changed to std::vector API

2006-02-11  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* server/xmlnode.{h,cpp): Implement nodeType property.
	* testsuite/actionscript.all/XMLNode.as: Add test for
	XMLNode::nodeType property.
	* doc/C/xmlnode.xml: New file for accidentally skipped class.
	* doc/C/internals.xml: Update section on using as_value
	objects. Include XMLNode section.
	* macros/docbook.m4: Extract and save the version of the Docbook2X
	tools, because there are two big differences in command line
	options depending which version you have.
	* configure.ac: Print the version of the Docbook2X tools, if
	--enable-docbook is specified.
	* doc/C/Makefile.am: Check the version of the Docbook2X tools when
	running db2x_texixml.
	* macros/sdl.m4: Define HAVE_SDL_MIXER_H if we have SDL Mixer
	installed.

2006-02-10  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* backend/render_handler_ogl.cpp (render_handler): Migrated patch
	from GameSWF that fixed a problem that meant that bitmap fill
	styles would not respect colour modulation (e.g. the use of Tint
	in Flash).
	* server/types.h: Define cxform::clamp.
	* server/types.cpp: Implementation of cxform::clamp.

	* doc/C/internals.xml: Add section on adding properties to an 
	ActionScript class. Add section on using as_value objects.

	* testsuite/actionscript.all/dejagnu.as: Implement the DejaGnu
	unit testing API for ActionScript.
	* testsuite/actionscript.all/XML.as: Use new DejaGnu API for test
	output.
	* testsuite/actionscript.all/XMLNode.as: New test case for
	XMLNode to test the methods and properties.
	* server/xmlnode.h: Add prototypes for new methods.
	* server/xmlnode.cpp: Implement appendChild() cloneNode()
	methods, and nodeName, nodeValue, firstChild, lastChild,
	previousSibling, nextSibling, parentNode properties.
	* server/xml.h: Define properties correctly. 
	* server/xml.cpp: Add properties to a node as other operations
	on the node are done.
	* configure.ac: Disable the XMLReader by default.
	* libbase/membuf.cpp: Free, don't delete the pointer in the
	destructor.
	* server/action.cpp: Define virtual destructor for
	as_property_interface.
	* server/gnash.h: Define virtual destructor for import_visitor.
	* server/shape.{h,cpp}: Define destructor for tesselating_shape.
	* server/styles.h: Define destructors for base_fill_style and
	base_line_style.
	* server/tesselate.{h,cpp}: Define destructor for
	trapezoid_accepter.
	
2006-02-10 Sandro Santilli <strk@keybit.net>

	* server/action.{cpp,h}: added doActionCallMethod,
	doActionCallFunction, doActionDefineFunction,
	doActionGetMember and doActionDefineFunction2 private
	methods to action_buffer. Changed text representation
	of generic objects from [object Object] to a more
	interesing value, fixed <c_function 0x0x###>
	* testsuite/actionscript.all/Function.as: more tests.
	* server/Object.cpp: reworked get_member/set_member to map
	"__proto__" to m_prototype.
	* server/Function.{h,cpp}: mapped m_properties to
	"prototype". Set prototype.constructor at properties
	initialization time.

2006-02-09  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* macros/ghelp.m4: Disable ghelp support by default. Use
	--enable-ghelp to turn it back on.
	* doc/omf.make: Don't try to install anything if GHELP isn't
	defined.

2006-02-09 Sandro Santilli <strk@keybit.net>

	* doc/C/Makefile.am: spaces => tab
	* doc/C/internals.xml: about writing tests
	* testsuite/actionscript.all/Global.as: added two more tests,
	fixed existing test to bypass preprocessor mangling.
	* testsuite/actionscript.all/Function.as: added some tests
	for prototype, prototype.constructor and __proto__ (inheritance)
	* server/action.{cpp,h}: moved ACTION_NEW and ACTION_INSTANCEOF
	handling code in action_buffer private doActionNew and
	doActionInstanceOf (the latter being under development).

2006-02-09 Michael Carlson <corfe83dev@gmail.com>

	* server/action.cpp: Implement _global.parseInt for all cases.
	Also implement _global.parseFloat, and _global.isNan,
	_global.isFinite, _global.unescape
	* server/action.h: add as_value::is_finite(), set_nan for
	ease of use
	* testsuite/actionscript.all: add and fix up parseInt test cases
	also add some parseFloat test cases

2006-02-08  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* server/shm.cpp (exists): Move to be within the ENABLE_TESTING
	block.

2006-02-08  Rob Savoye  <rob@cree.moongulch.net>

	* Makefile.am: Rearrange directories for SUBDIRS and
	DIST_SUBDIRS.
	* autogen.sh: Remove hardcoded path to /usr/bin.
	* doc/C/appendix.xml: Add section to "Coding Style" about Doxygen
	style somments.
	* doc/C/internals.xml: Metion code generation scripts in
	CVS. Expand "Adding ActionScript" section  Add sectioj on
	parameter passing for callbacks. Add section on testing Gnash.
	* server/Makefile.am: Add xmlattrs and xmlnodes to the list of
	headers and source files.
	* server/xml.h: Move XMLAttrs and XMLNode to their own source
	files to reduce clutter. Use std::vector instead of "tu
	array". Add new accessors to use for testing. Move a few method
	definitions to the source file.
	* server/xml.cpp:  Move XMLAttrs and XMLNode to their own source
	files to reduce clutter. Use std::vector instead of "tu array".
	Add new accessors to use for testing. Move a few method
 	definitions from the header file. Implement XML::appendChild(),
	XMLNode::appendChild(), XML::createElement(), XML::cloneNode(),
	and XML::createTextNode().
	* testsuite/actionscript/XML.as: Add tests for the new methods.
	
	* server/xmlattrs.{h,cpp}: New file for XMLAttr class moved out of
	xml.h.
	* server/xmlnode.{h,cpp}:  New file for XMLAttr class moved out of
	xml.h.

2006-02-06  Patrice Dumas  <pertusus at free.fr>

	* macros/docbook.m4: enable by default. Add an AM_CONDITIONNAL for
	each of the formats.
	* macros/ghelp.m4: enable by default. Correct AC_PATH_PROG 3rd arg.
	Don't check for the user is root (the user needs to be root only
	for make install, in case he wants to run scrollkeeper-update).
	* doc/omf.make: don't use $(GHELP) it is never set. Test for the
	user being root only when running scrollkeeper-update, any user
	may install the files. Use $(omffile) instead of $(srcdir)/*.omf.
	Add $(DESTDIR).
	* doc/xmldocs.make: move general stuff to doc/C/Makefile.am 
	(EXTRA_DIST, CLEANFILES, xml_files). Similarly, define all-local 
	and not all. Add amissing $(DESTDIR). Take dist-hook and 
	install-data-hook from doc/C/Makefile.am.
	* doc/C/Makefile.am: use the GHELP automake conditionnal to 
	conditionnally include scrollkeeper stuff. Remove XML_FILES, as
	xml_files from the scrollkeeper code is the same. Distribute
	info and texi files. Simplify rules to build docs and 
	conditionnalize on automake conditionnals. If the tools aren't
	there, touch the files. As the doc files requires specific 
	tools to build, flag them as MAINTAINERCLEANFILES.
	* doc/C/gnash.omf: rename to gnash-C.omf and minor changes.

2006-02-08 Sandro Santilli <strk@keybit.net>

	* testsuite/actionscript.all/Global.as: _global functions tests
	* testsuite/actionscript.all/Function.as: modified to use check.as
	* testsuite/actionscript.all/Object.as: modified to use check.as
	* testsuite/actionscript.all/check.as: framework for dejagnu testing

2006-02-08 Michael Carlson <corfe83dev@gmail.com>

	* server/action.cpp: implement _global.parseInt's simplest case

2006-02-06 Sandro Santilli <strk@keybit.net>

	* server/action.h: Added as_environment::dump_stack(), more dox
	* server/action.cpp: Fixed <as_function 0x0x####>, cleanups
	* server/swf.h: Added dox for ACTION_CALLMETHOD
	* libbase/container.h: Doxygen comments for smart_ptr class
	* testsuite/actionscript.all/Function.as: more tests for
	Function.apply()
	* testsuite/actionscript.all/Makefile.am: rule to build
	'visual tracing' version of tests (.vswf)
	* server/Function.cpp: implemented Function.apply()

2006-02-05 Sandro Santilli <strk@keybit.net>

	* server/action.cpp used symbolic names in s_instruction_table.

2006-02-05  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* testsuite/actionscript.all/testin.xml: XML test file to test the
	parser.

	* plugin/plugin.cpp (NewStream): Add support to parse the options
	passed in when the plugin is invoked to play a stream. Add special
	debug flags so we can attach GDB at leisure and not have to screw
	with loading shared libraries.
	* server/xml.{h,cpp}: Fix capitalization errors in
	names. Implement getBytesTotal(), getBytesLoaded(),
	and hasChildNodes().
	* testsuite/actionscript.all/XML.as: Add tests for
	getBytesTotal(), getBytesLoaded(), and hasChildNodes().
	
	* server/xml.h: Add stubs for the missing methods and
	properties. Fix bit rot with get_member() so it actually works
	again.
	* server/xml.cpp:  Add stubs for the missing methods and
	propeties.
	* testsuite/actionscript.all/XML.as: New file to test XML class.

2006-02-05 Sandro Santilli <strk@keybit.net>

	* server/swf.h: added SWF::ACTION_DEFINEFUNCTION2 (0x8e)
	* server/action.cpp: added support for Object copy construction
	obj = new Object(otherobj).
	* server/: renamed as_as_function to as_function_object, moved
	it's definition in Function.{h,cpp}. Moved as_object methods
	from action.cpp to Object.cpp (new file). Fixed definition
	of prototipal ::apply and ::call members for Function object.

2006-02-05 Michael Carlson <corfe83dev@gmail.com>

	* server/Sprite.cpp: goto_frame now uses mutator to stop instead
	of directly changing state (so now it resets dt counter too)

2006-02-04  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* server/shm.{h,cpp}: New support code for using POSIX named
	shared memory segments.
	* server/LocalConnection.h: Alternatively use shared memory
	instead of a socket connection.
	* server/LocalConnection.cpp: Alternatively use shared memory
	instead of a socket connection.
	* testsuite/actionscript.all/LocalConnection.as: Add addiotnal
	tests for when using a shared memory subsystem.
	* server/Makefile.am: Add shm.h, shm.cpp, network.cpp, network.h.
	* configure.ac: Add --enable flag to switch using shared memory to
	networking for local connections.
	
	* server/LocalConnection.h: Change API for connect(), and
	domain().
	* server/LocalConnection.cpp: Change API for connect(), and
	domain(). Initial implementations of domain(), connect(), and
	close().

	* server/network.cpp: Replace code with networking code from one
	of my other GPL'd projects, PowerGuru. That code is much more
	fully functional in a generic sense, and pretty solid too. Add
	more accessors to use for testing LocalConnection. 
	* server/network.h: Add more accessors to use for testing
	LocalConnection.
	* testsuite/actionscript.all/LocalConnection.as: Test the newly
	implemented methods.

	* server/network.{h,cpp}: New files to hold base networking class
	for use by other ActionScript objects. This base class contains
	the code for custom methods that implement accessors to the data
	to enable unit testing derived classes like NetConnection and
	LocalConnection. 
	* server/NetConnection.h: Move all testing code to network.h.
	* server/NetConnection.cpp: Move all testing code to
	network.cpp. Setup callbacks for our custom methods using the
	Network, instead of NetConnection class.

	* Makefile.am: Rearrange variable definitions so the dist and
	distcheck Makefile targets actually work. Add DIST directories so
	everything makes it into the tarball.
	* doc/C/Makefile.am: Define XML_FILES for all the other xml doc
	files. Add DESTDIR to the install path. Rearrange variable
	definitions so the distcheck Makefile target actually works. 

2006-02-04  John Gilmore  <gnu@toad.com>

	* backend/gnash.cpp:  Set window title to "gnash: " and movie name.
	Correct help/usage string.

2006-02-04 Sandro Santilli <strk@keybit.net>

	* libbase/container.h:  Doxygen-compatible comments for hash
	struct. Const-correct size() method.
	* server/action.cpp: opcode 0x43 (Declare Object / INITOBJECT)
	implemented.

2006-02-04  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* doc/C/netconnection.xml: Update with more detailed data on this
	class.

	* server/NetConnection.cpp: Implement part of the connect()
	method. Add C++ accessor methods as AS methods, and we can call
	our custom methods from testing code to examine the internal state
	of a class.
	* server/NetConnection.h: Add C++ accessor methods as AS methods,
	* testsuite/actionscript.all/NetConnection.as: Test the connect()
	method to make sure the URL gets parsed correctly, if specified.
	* configure.ac: Add --disble-testing option to not build
	additional code used for testing.

2006-02-04 Michael Carlson <corfe83dev@gmail.com>

	* server/Date.cpp: Clean up Date, and implement getDate()
	* server/action.cpp: Fix SetTargetDynamic opcode and further fix
	SetTarget opcode

2006-02-03  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* macros/docbook.m4: Fix improper use of 3rd parameter to
	AC_PATH_PROG.

	* configure.ac: Add --enable-sdk-install to install headers for
	those who want to use Gnash as a development library.
	* plugin/ogl_sdl.cpp: Drop old demo code.
	* libbase/Makefile.am: Rename libbase to libgnashbase to
	reduce the chance of name collision.
	* libgeometry/Makefile.am: Rename libgeometry to libgnashgeo to
	reduce the chance of name collision.
	* server/Makefile.am: Rename libserver to libgnashserver, and
	libasobjs to libgnashasobjs to reduce the chance of name
	collision. 
	* backend/Makefile.am: Rename libgbackend to libgnashbackend to
	reduce the chance of name collision. Use the new library names to
	link.
	* utilities/Makefile.am: Use the new library names to link.
	* plugin/Makefile.am: Rename libgnash to be libgnashplugin to
	reduce the chance of name collision. Use the new library names to
	link.
	
	* server/action.cpp: Add missing opcodes to dissasembler table,a
	and rename the unsupported ones to have a "_fixme" attached when
	printing debug information.
	* backend/Makefile.am (AM_LDFLAGS): Add $(X_LIBS) so we can link
	with libraries in /usr/X11R6/lib.

	* Makefile.am (ACLOCAL_AMFLAGS): Add so autoreconf works. 

2006-02-03 Michael Carlson <corfe83dev@gmail.com>

	* server/action.cpp: SetTarget is now implemented for targets
	other than ""
	* backend/render_handler_ogl.cpp: use TWIPS_TO_PIXELS macro
	instead of hardcoded 20 value

2006-02-03 Sandro Santilli <strk@keybit.net>

	* testsuite/actionscript.all/Function.as: tests for user-defined
	  class definition
	* server/swf.h: moved SWF namespace definition in it's own header,
	  added action_type enum, added ACTION_EXTENDS, ACTION_CASTOBJECT,
	  ACTION_IMPLEMENTS tag_types, added dox on some action_types.
	* server/action.cpp: used symbolic names for SWF action tag ids
	* testsuite/actionscript.all/Object.as: test for Object class
	* testsuite/actionscript.all/Makefile.am: added support for
	  user-defined flags to ``makeswf'' invocation
	  (for -DUSE_XTRACE, mainly)
	* libbase/: image.h, jpeg.h: Doxygen-compatible comments

2006-02-03 Michael Carlson <corfe83dev@gmail.com>

	* server/textformat.cpp: fix typo in textformat_new log message
	* server/action.cpp: modulus operand in actionscript now returns
	NaN on division by zero
	* server/Date.h: Setup basic time storage variables
	* server/Date.cpp: Implement default constructor, basic time
	reading operations

2006-02-02  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* testsuite/actionscript.all/Makefile.am: Use the standard
	automake way to build the test cases.

	* Makefile.am (STD_DIRS): Remove testsuite. Nothing actually needs
	to be done at "make all" time anyway. So now the testuites can
	only be run from the testsuite subdirctory.
	* macros/png.m4: Fix various typos and other stupid errors that
	kept the --with-png-incl and --with-png-lib options from working
	correctly.
	* configure.ac: Tweak test for PNG support.

2006-02-01  Rob Savoye  <rob@cree.moongulch.net>

	* testsuite/actionscript.all/gen-test.sh: Developer utility script
	that uses the NOTES file to generate a Ming style "as" source file,
	which can be used to test an ActionScript class.
	* server/gen-files.sh: Developer utility script that uses the
	NOTES file to generate header and source file templates for an
	ActionScript class.
	* doc/C/gen-doc.sh: Developer utility script that uses the NOTES
	file to generate a documentation template for an ActionScript
	class.
	* doc/C/NOTES: Data file for file generation scripts. This is only
	of interest to other developers. If you change this file, you may
	break the other developer gen-* scripts.
	* testsuite/Makefile.am: Add dejagnu to AUTOMAKE_OPTIONS. Reset
	RUNTESTDEFAULTFLAGS to not use the --tool option.
	* testsuite/actionscript.all/Makefile.am: Add dejagnu to
	AUTOMAKE_OPTIONS. Reset	RUNTESTDEFAULTFLAGS to not use the --tool
	option.
	* testsuite/actionscript.all/swf_exists.exp: Test driver for
	DejaGnu to run the new test cases.
	* testsuite/actionscript.all/Boolean.as, Date.as, Microphone.as,
	SharedObject.as, Camera.as, Error.as, Mouse.as, Stage.as,
	Color.as, server/Makefile.am, backend/Makefile.am, 
	Function.as, NetConnection.as, System.as, ContextMenu.as,
	LoadVars.as, NetStream.as, TextSnapshot.as, CustomActions.as,
	LocalConnection.as, Selection.as, Video.as: New Ming based test
	cases for ActionScript classes. Currently all these do is test for
	the existance of a class, and all of it's methods.
	* server/Boolean.cpp, Date.cpp,	Microphone.cpp,	SharedObject.cpp,
	Camera.cpp, Error.cpp, Mouse.cpp, Stage.cpp, Color.cpp,
	Function.cpp, NetConnection.cpp, System.cpp, ContextMenu.cpp,
	LoadVars.cpp, NetStream.cpp, TextSnapshot.cpp, CustomActions.cpp,
	LocalConnection.cpp, Selection.cpp, Video.cpp: New stubs for
	missing ActionScript classes. All they do for now is print
	"unimplemented", but as all the hard code to tie a class and it's
	methods into Gnash is done, it'll be much easier to fill in
	functionality.

2006-01-30 Michael Carlson <corfe83dev@gmail.com>

	* backend/render_handler_ogl.cpp: tentative implementation
	of line_style_width with appropriate TODO message

2006-01-30  Rob Savoye  <rob@ripple.welcomehome.org>

	* doc/C/accessibility.xml, button.xml, camera.xml,
	contextmenu.xml, customactions.xml, date.xml,
	error.xml, internals.xml, key.xml,
	loadvars.xml, localconnection.xml,
	microphone.xml, mouse.xml, netstream.xml,
	selection.xml, sharedobject.xml, sound.xml,
	stage.xml, textsnapshot.xml, video.xml,
	xml.xml, xmlsocket.xml: Add content.
	* doc/C/accessibility.xml camera.xml, color.xml, contextmenu.xml,
	customactions.xml, date.xml, error.xml, function.xml, key.xml,
	loadvars.xml, localconnection.xml, microphone.xml, mouse.xml,
	movieclip.xml, moviecliploader.xml, netstream.xml, object.xml,
	selection.xml, sharedobject.xml, sound.xml, stage.xml, system.xml,
	textfield.xml,	textformat.xml,textsnapshot.xml. video.xml,
	xml.xml, xmlsocket.xml: New machine generated templates for
	ActionScript class documentaion.

	* doc/C/array.xml, boolean.xml, button.xml, math.xml,
	netconnection.xml, number.xml, string.xml: New docs, one for each
	ActionScript class.

2006-01-29  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* doc/C/internals.xml: Add a table of what ActionScript classes
	are implemented, and to what degree.
	* doc/C/sources.xml: Add section on PNG and JPEG dependancies. Add
	section on using Doxygen.

	* doc/Doxyfile.in (INPUT): Change to using @top_srcdir@, so the
	doxygen usage supports building the docs when configuring with a
	separate build tree from the sources.

2006-01-28  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* doc/C/internals.xml: Add section on adding new ActionScript
	classes with reasonable detail.

	* doc/C/sources.xml: New file extracted from gnash.xml, and made a
	standalone file since it's grown in size.
	* doc/C/appendix.xml: New file for Appendix content.
	* doc/C/gnash.xml: Move some sections to separete files. Include
	the new files.

	* doc/C/Makefile.am: Add pdf and info to SUFFIXES so the rules
	actually work.

	* doc/omf.make (install-data-hook-omf): Only install if you are
	root, as this requires writing to system directories.
	* configure.ac: Link the doc/C/images directory to the build
	directory so we can find images when producing output files. Check
	state of DocBook when it's enabled.
	* macros/docbook.m4: Add path to stylesheets for Ubuntu. Look for
	fop.sh, and the DocBook2X conversion tools. Make DocBook optional,
	use --enable-docbook to enable. When disableed, you can't build
	any of the docs.
	* macros/ghelp.m4: Check for Scrollkeeper tools. Using GNOME Help
	is disabled by default. Use --enable-ghelp to enable.
	* doc/C/Makefile.am: Use variables defined by configure for all
	the conversion tools.

2006-01-27  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* plugin/player.cpp: Use GLinitialized instead of
	surface_activated, which turns out to be a system definition on
	some Unixes. Make main_loop take a nsPluginInstance as an argument
	so we have all the data we need. Setup a thread to run the
	player.
	* server/Makefile.am, backend/Makefile.am,
	plugin/Makefile.am, utility/Makefile.am,
	plugin/mozilla-sdk/Makefile.am: Don't use VORBIS variables
	anymore.
	* macros/libXML.m4: Use xml2-config instead of pkg-config.
	* maxros/mad.m4: Add BSD path prefix, /usr/pkg.
	* libbase/triangulate_impl.h: Drop the long modifier when printing
	a size.
	* libbase/Makefile.am: Make dmalloc build conditionally when
	--enable-dmalloc is passed to configure.
	* backend/sound_handler_sdl.cpp: Only compile if SDL_Mixer is
	installed.
	* backend/gnash.cpp: xml_fd should always be defined. Make using
	SDL_Mixer for sound be conditional, since a machine may have SDL
	installed, but not SDL_Mixer, but we still want the player to
	build.
	* server/xmlsocket.h, xmlsocket.cpp: Include config.h as generated
	by configue if it exists.
	* server/xml.h, xml.cpp: Include config.h as generated
	by configue if it exists.
	* configure.ac: Enable test for pthread.h and libpthread. Don't
	look for Vorbis, the OGG tests are enough.
	* server/Movie.cpp, Sprite.cpp, impl.cpp, array.cpp: Include
	pthread.h to get around a data type definition problem on
	NetBSD. This seems to be required when using STL containers on
	NetBSD. 
	* macros/opengl.m4: Use mad.m4 as a template and rewrite to be
	more portable.
	* macros/png.m4: Use mad.m4 as a template and rewrite to be
	more portable.
	* macros/jpeg.m4: Use mad.m4 as a template and rewrite to be
	more portable.
	* macros/sdl.m4: Look for SDL specific directory before and after
	the include or lib since some platforms install these differently.
	* macros/pthreads.m4: Look for POSIX Thread support. This turns
	out to be very messy with NetBSD, as the old version is also
	installed, and we have to link with the right one for any
	executable to work.

2006-01-26  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* plugin/Makefile.am: Link in shared libraries. Install the plugin
	in the users home directory for mozilla or firefox plugins.
	* server/Makefile.am, backend/Makefile.am,
	plugin/Makefile.am, plugin/mozilla-sdk/Makefile.am: Sigh, back to
	building and installing shared libraries because AMD64-linux
	doesn't support linking the plugin with static libraries.

	* configure.ac: Don't complain about missing libxml2 libraries if
	--disable-xml was specified.
	* backend/gnash.cpp: Always define gofast and goslow, even if XML
	support is disabled.
	* libbase/tu_types.h: If the Mozilla obsolete Prototypes file has
	been included, don't redefine the 64 bit data types.

	* testsuite/movies.all/elvis.swf: Remove URL ping to spyware
	server.

	* libbase/triangulate_impl.h: Change %ld to %d in print statement.
	* libbase/tu_types.h: Use SDL typedefs always.

2006-01-24  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* macros/opengl.m4: Update based on mad.m4 template.
	* macros/mad.m4: Fix typo, -I should be a -L.

2006-01-24 Michael Carlson <corfe83dev@gmail.com>

	* server/array.h: as_array_object now uses deque instead of vector
	* server/array.cpp: Implement array::unshift, shift, reverse,
	concat, slice, toString, join - also make push return the new
	length as it should have done before

2006-01-23  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* plugin/player.cpp, player.h: Neew file for Flash player within
	plugin code.
	* plugin/ogl_sdl.cpp, ogl_sdl.h: New files for OpenGL and SDL
	specific code.
	* plugin/Makefile.am: Build a static archive library instead of a
	shared one. Link to the static libraries.
	* server/Makefile.am: Build a static archive library instead of a
	shared one. Link to the static libraries.
	* backend/Makefile.am: Build a static archive library instead of a
	shared one. Link to the static libraries.
	* plugin/Makefile.am: Build a static archive library instead of a
	shared one.
	* plugin/mozilla-sdk/Makefile.am: Build a static archive library
	instead of a shared one.
	
	* server/Makefile.am: Don't install the libraries.
	* backend/Makefile.am: Don't install the libraries.
	* plugin/Makefile.am: Don't install the
	libraries. Pass-no-undefined to libtool so all symbols are
	resolved in the final shared library.
	* plugin/mozilla-sdk/Makefile.am: Don't install the libraries.

	* configure.ac: Use new DMALLOC test.
	* macros/dmalloc.m4: New macro for dmalloc support.
	* utilities/Makefile.am: Add support for dmalloc.
	* server/Makefile.am: Add support for dmalloc.
	* backend/Makefile.am: Add support for dmalloc.
	* plugin/Makefile.am: Add support for dmalloc.
	* libbase/utility.cpp: Only build if we have mallinfo. 

2006-01-23 Michael Carlson <corfe83dev@gmail.com>

	* server/action.h: Create utility funcs as_value::is_inf, is_nan
	* server/action.cpp: Let as_value String<->Number conversions
	use NaN, +Infinity, -Infinity where appropriate
	* server/string.cpp: Make charCodeAt() return a NaN value when
	appropriate
	* server/array.cpp: Array now checks for NaN after converting
	index string to_number(), instead of the old hacked-up way

2006-01-23  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* server/styles.cpp: Fix condition for gradient test.

	* configure.ac: Remove AM_MKINSTALLDIRS macro, it's now unneeded.

2006-01-23 Michael Carlson <corfe83dev@gmail.com>

	* server/array.h: Move new array code into array.cpp, array.h
	* server/array.cpp: Move new array code into array.cpp, array.h
	* server/action.cpp: Move new array code into array.cpp, array.h
	* server/Makefile.am: Move new array code into array.cpp, array.h
        * server/font.cpp: Report an error and continue when we get two
	of the same kerning pairs for a font, instead of crashing

2006-01-22  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac: Make text at end of configure more detailed about
	dependency errors.
	* macros/mad.m4: New macro to find libmad for mp3 support.
	* utilities/Makefile.am: Make MP3 support truly optional.
	* server/Makefile.am: Make MP3 support truly optional.
	* backend/Makefile.am: Make MP3 support truly optional.
	* plugin/Makefile.am: Make MP3 support truly optional.

2006-01-21  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac: Add tests for OGG and Vorbis.
	* backend/Makefile.am: Add flags and libs for OGG and Vorbis as
	separete flags.
	* utilities/Makefile.am: Add flags and libs for OGG and Vorbis as
	separete flags.
	* plugin/Makefile.am: Add flags and libs for OGG and Vorbis as
	separete flags.

	* server/styles.cpp: Don't abort if we read a bad gradient.

	* macros/sdl.m4: Store the compilation flags so the compilation
	tests works on ppc-linux.

2006-01-21 Michael Carlson <corfe83dev@gmail.com>

        * server/action.cpp: Initial implementation of as_array_object
        ( get_member, set_member, push, pop, and length )
	
2006-01-20  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* backend/Makefile.am: Make the OGL and SDL support a library so
	it can also be used by the plugin.
	* libbase/Makefile.am: Add SDL_MIXER_CFLAGS to the include paths.
	* macros/sdl.m4: Correct typo so --with-sdl_mixer-lib actually
	works. Add /usr/bin/X11 to the default search path for
	sdl-config.
	* server/styles.cpp: Print a better error message wh.en a bad
	gradient value is read before aborting.

2006-01-19  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* utilities/Makefile.am: Link with AM_LDFLAGS.
	* utilities/parser.cpp: Include config.h. Define gofast, goslow,
	and nodelay.
	* utilities/processor.cpp: Include config.h. Define gofast,
	goslow, and nodelay.
	* configure.ac: Look for mkinstalldirs. Remove test for GLUT, it's
	not used anymore.
	* doc/C/gnash.xml: Update copyright year.
	* backend/gnash.cpp: Include config.h. Give default values to
	gofast and goslow.
	* backend/Makefile.am: Don't install compatibility_include.h.
	* libbase/Makefile.am: Remove unused install hook.
	* libgeometry/Makefile.am: Remove unused install hook.
	* server/Makefile.am: Remove unused install hook.
	* config.mk.in: Remove GLUT variable.
	* All GPL'd Files: Update copyright year.
	* macros/firefox.m4: Get the java and plugin flags from
	$mconfig. Don't look for GLUT, it'sm not needed.
	* plugin/Makefile.am: Add include paths for all the Gnash
	directories and libxml2.

2006-01-08  Rob Savoye  <rob@wharfrat.welcomehome.org>

	* configure.ac: Print out an error message if any of the critical
	development packages aren't installed.

	* testsuite/movies.all: New sub directory for whole movies used
	for demos and testing.
	* testsuite/movies.all/ORIGIN: List where all these movies came
	from originally.
	* testsuite/movies.all/elvis.swf: Dancing figures movie. Makes a
	decent performance test.
	
	* testsuite/actionscript.all/movieclip_test.swf,
	moviecliploader_test.swf, text_formatting.swf, text_sizes.swf,
	visible_and_transparency.swf: New test cases.
	* testsuite/actionscript.all/green.jpg,lynch.jpg,offspring.jpg:
	New image files for the MovieClip and MovieClipLoader test cases.

	* testsuite: New directory for DejaGnu test suite.
	* testsuite/config: New directory for DejaGnu config files.
	* testsuite/lib: New directory for DejaGnu library files.
	* testsuite/actionscript.all: New directory for ActionScript test
	cases.

2006-01-07  Rob Savoye  <rob@bertha.welcomehome.org>

	* server/impl.cpp (gnash): Use unsigned int for for loops so we
	don't have problems with comparing integers.

2006-01-07  Rob Savoye  <rob@darkstar.welcomehome.org>

	* plugin/plugin.cpp (eventThread): Add background thread for
	processing flash movies. Merge in OpenGL/SDL support from the
	standalone player. Start a thread for each new stream.

2006-01-06  Rob Savoye  <rob@bertha.welcomehome.org>

	* server/sound_handler_mp3.cpp: Build if libmad exists.
	* configure.ac: Rearrange the final display lines, and the order
	some of the tests are done in. Look for libmad.
	* backend/Makefile.am: Add OpenGL flags so Darwin is happy.
	* libgeometry/Makefile.am:  Add OpenGL flags so Darwin is happy.
	* server/Makefile.am: Add sound_handler_mp3.cpp.

	* macros/opengl.m4: Rewrite completely. Add --with-opengl optins
	for the paths, and also make --disable-opengl work correctly.

	* libgeometry/geometry.h(math): Rename _X, _Y, or _Z because on
	Darwin they conflict with system header definitions.

	* configure.in, config.h.in, all Makefiles.in: Remove generated
	files from CVS. Running autogen.sh will regenerate them.

2006-01-05  Rob Savoye  <rob@bertha.welcomehome.org>

	* server/action.cpp: Cast to void * to print the pointer address.

	* libbase/triangulate.h: Migrate patch from GameSWF.
	* libbase/triangulate_impl.h:  Migrate patch from GameSWF.
	* libbase/triangulate_float.cpp:  Migrate patch from GameSWF.
	* libbase/triangulate_sint32.cpp:  Migrate patch from GameSWF.

2005-12-27  Rob Savoye  <rob@bertha.welcomehome.org>

	* doc/C/gnash.xml: Add sections on software dependancies,
	configuring, installing, and running Gnash.
	
	* server/Makefile.am: Don't install the libraries in a package
	subdirectory of $libdir.
	* libbase/Makefile.am: Don't install the libraries in a package
	subdirectory of $libdir.
	* libgeometry/Makefile.am: Don't install the libraries in a
	package subdirectory of $libdir.

	* autogen.sh: If any command arguments are supplied, don't run
	automake, as nothing has changed but the configure script. This is
	to reduce clutter in the checkin messages when only a configure
	change has been made.

	* macros/libXML.m4: Don't look for XML libraries in the prefix
	directory.
	* macros/firefox.m4: Don't look for Firefox libraries in the
	prefix directory.

2005-12-26  Rob Savoye  <rob@bertha.welcomehome.org>

	* Makefile.am: Add doc subdirectory to DIST_SUBDIRS so it gets
	included in the tarball, but isn't part of the SUBDIRS, since we
	don't always want to build the docs.

	* macros/libXML.m4: Make the --with-libxml-include and
	--with-libxml-libraries add the library to the path. Test if
	pk-config exists. Use it if it does, but if it doesn't, do a brute
	force check of standard install locations for the XML2 headers and
	library.

	* backend/gnash.cpp: Define gofast and goslow here instead of
	xmlsocket.cpp.
	* server/xmlsocket.cpp: Reference gofast and goslow as externs so
	gnash actually builds with --disable-xml.

2005-12-25  Rob Savoye  <rob@bertha.welcomehome.org>

	* plugin/plugin.cpp: Fix plugin name so it's recognized correctly
	to play flash movies looking for the proprietary Flash
	player. Instead of rendering the flash movie, copy the byte stream
	to /tmp instead so we can collect more test cases.

	* configure.ac: Fix the --disable-xml option so it actually
	works.

2005-12-21  Rob Savoye  <rob@bertha.welcomehome.org>

	* macros/firefox.m4: Move enable test to here. If firefox-config
	doesn't exist, look for mozilla-config. If neither exists, the
	plugin won't be built as the mozilla development headers and
	libraries aren't installed.
	* Makefile.am: Don't try to build the plugin if the mozilla
	development SDK isn't installed.

	* config.h.in: Checkin header file produced by autoheader so Gnash
	builds on machines without the Autotools installed.
	* doc/C/images/car_crash.txt: Add file for alt text so conversion
	to info works correctly.

	* doc/C/gnash.xml: Update legal notices.
	* doc/C/fdl-appendix.xml: Add FDL in DocBook format.

2005-12-20  Rob Savoye  <rob@bertha.welcomehome.org>

	* libbase/Makefile.am, libgeometry/Makefile.am,
	server/Makefile.am: Don't install the headers.
	* plugin/mozilla-sdk/Makefile.am: Install the SDK library.

	* doc/C/gnash.xml: Add more content beyond just the command line
	arguments. Add a screenshot of the car crash test case.
	* configure.ac: Drop the plugin/test directory, it's unused for
	now.

2005-12-11  Rob Savoye  <rob@bertha.welcomehome.org>

	* server/xml.cpp, xml.h: Update copyright notice.
	* server/xmlsocket.cpp, xmlsocket.h: Update copyright notice.

2005-12-10  Rob Savoye  <rob@bertha.welcomehome.org>

	* AUTHORS, README, NEWS: Add content.

